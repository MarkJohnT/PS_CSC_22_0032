<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>PS/CSC/22/0032</title>
    <!-- <script src="../lib/aframe.js"></script> -->
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
  </head>
  <body>
    <a-scene>
      <!-- Assets -->
      <a-assets>
        <img
          id="grass"
          src="https://cdn.jsdelivr.net/gh/aframevr/aframe-core@gh-pages/examples/showcase/terrain/grass.jpg"
        />
        <img id="milo" src="https://i.imgur.com/8E3cQ9k.png" />
        <img id="milk" src="https://i.imgur.com/s6p4cVO.png" />
        <img id="wood" src="https://i.imgur.com/mYAlot2.jpg" />
      </a-assets>

      <!-- Environment -->
      <a-sky color="#A0E7FD"></a-sky>
      <a-entity geometry="primitive: sphere; radius: 2" material="color: #FFD700; emissive: #FFD700" position="-20 30 -40"></a-entity>
      <a-light type="directional" color="#FFF8DC" intensity="1.2" position="-20 30 -40" castShadow="true"></a-light>
      <a-entity light="type: ambient; color: #AAA"></a-entity>
      <a-plane color="#4A6741" height="100" width="100" rotation="-90 0 0"></a-plane>

       <!-- Bushes -->
       <a-sphere color="#2E7D32" radius="0.7" position="-3 0.3 -7"></a-sphere>
       <a-sphere color="#388E3C" radius="0.5" position="2.5 0.2 -6"></a-sphere>
       <a-sphere color="#43A047" radius="0.6" position="2.2 0.3 -10.9"></a-sphere>
       <!-- Flowers -->
       <a-sphere color="#FF69B4" radius="0.15" position="-2 0.05 -8"></a-sphere>
       <a-sphere color="#FFD700" radius="0.13" position="2 0.05 -8"></a-sphere>
       <a-sphere color="#FF6347" radius="0.12" position="5 0.05 -7"></a-sphere>
       <a-sphere color="#8A2BE2" radius="0.13" position="-5 0.05 -"8.5></a-sphere>
       <a-sphere color="#00BFFF" radius="0.12" position="3 0.05 -8"></a-sphere>

      <!-- Rocks -->
      <a-sphere color="#A9A9A9" radius="0.25" position="-2 0 -5" scale="1 0.5 1.2"></a-sphere>
      <a-sphere color="#B0C4DE" radius="0.18" position="2 0 -5" scale="1 0.4 1.1"></a-sphere>

      <!-- Trees -->
      <a-entity position="-10 0 -15">
        <a-cylinder color="#8B4513" height="10" radius="0.5"></a-cylinder>
        <a-sphere color="#4CAF50" radius="4" position="0 7 0"></a-sphere>
      </a-entity>
      <a-entity position="12 0 -20">
        <a-cylinder color="#8B4513" height="12" radius="0.6"></a-cylinder>
        <a-sphere color="#4CAF50" radius="5" position="0 8 0"></a-sphere>
      </a-entity>
      <a-entity position="12 0 -8">
        <a-cylinder color="#8B4513" height="8" radius="0.4"></a-cylinder>
        <a-sphere color="#4CAF50" radius="3" position="0 6 0"></a-sphere>
      </a-entity>

      <!-- Path -->
      <a-plane color="#7e7e7e" width="3" height="20" position="0 0.1 -10" rotation="-90 0 0"></a-plane>

      <!-- Fenced Area -->
      <a-entity position="0 0 -25">
        <!-- Back fence -->
        <a-box color="#8D8C87" depth="0.1" height="1.5" width="15" position="0 0.75 -7.5"></a-box>
        <!-- Front fence with opening -->
        <a-box color="#8D8C87" depth="0.1" height="1.5" width="6" position="-4.5 0.75 7.5"></a-box>
        <a-box color="#8D8C87" depth="0.1" height="1.5" width="6" position="4.5 0.75 7.5"></a-box>
        <!-- Side fences -->
        <a-box color="#8D8C87" depth="15" height="1.5" width="0.1" position="-7.5 0.75 0"></a-box>
        <a-box color="#8D8C87" depth="15" height="1.5" width="0.1" position="7.5 0.75 0"></a-box>
      </a-entity>

      <!-- Study Room -->
      <a-entity position="0 0 -25">
        <!-- Floor -->
        <a-box width="10" height="0.2" depth="10" position="0 0.1 0" color="#8b8c88"></a-box>

        <a-entity id="carpet" position="0 0.3 0.5">
          <!-- Generate a grid of tiles manually -->
        
          <a-entity id="carpet" position="0 0 0" generate-carpet></a-entity>

          <script>
            AFRAME.registerComponent('generate-carpet', {
              init: function () {
                const tileSize = 0.5;
                const rows = 7;
                const cols = 12;
          
                // Adjust top-left start to keep centered visually if needed
                const startX = -(cols * tileSize) / 2;
                const startZ = -2;
          
                for (let r = 0; r < rows; r++) {
                  for (let c = 0; c < cols; c++) {
          
                    const isBlack = (r + c) % 2 === 1;
                    const color = isBlack ? "black" : "white";
          
                    const x = startX + (c * tileSize);
                    const z = startZ + (r * tileSize);
          
                    const tile = document.createElement('a-plane');
                    tile.setAttribute('position', `${x} 0 ${z}`);
                    tile.setAttribute('rotation', `-90 0 0`);
                    tile.setAttribute('width', tileSize);
                    tile.setAttribute('height', tileSize);
                    tile.setAttribute('color', color);
          
                    this.el.appendChild(tile);
                  }
                }
              }
            });
          </script>
          
          
        </a-entity>

        <!-- Walls -->
        <!-- Back wall -->
        <a-box color="#E9E2D0" width="10" height="4" depth="0.2" position="0 2 -5"></a-box>
        <!-- Left wall -->
        <a-box color="#E9E2D0" width="0.2" height="4" depth="10" position="-5 2 0"></a-box>
        <!-- Right wall -->
        <a-box color="#E9E2D0" width="0.2" height="4" depth="10" position="5 2 0"></a-box>
        <!-- Front wall with door -->
        <a-box color="#E9E2D0" width="3.5" height="4" depth="0.2" position="-3.25 2 5"></a-box>
        <a-box color="#E9E2D0" width="3.5" height="4" depth="0.2" position="3.25 2 5"></a-box>
        <a-box color="#E9E2D0" width="3" height="1" depth="0.2" position="0 3.5 5"></a-box>

        <!-- Roof -->
        <a-plane material="color: #A0522D; side: double" width="11" height="11" position="0 4.1 0" rotation="-90 0 0"></a-plane>

        <!-- Board -->
        <a-box color="#ffffff" width="5" height="3" depth="0.1" position="0 2.5 -4.9"></a-box>

        <!-- Table -->
        <a-box color="#dcc9a0" width="3" height="0.1" depth="1.5" position="0 1.5 0"></a-box>
        <a-box color="#dcc9a0" width="0.1" height="1.4" depth="0.1" position="-1.4 0.8 0.7"
        ></a-box>
        <a-box color="#dcc9a0" width="0.1" height="1.4" depth="0.1" position="1.4 0.8 0.7"></a-box>
        <a-box color="#dcc9a0" width="0.1" height="1.4" depth="0.1" position="-1.4 0.8 -0.7"></a-box>
        <a-box color="#dcc9a0" width="0.1" height="1.4" depth="0.1" position="1.4 0.8 -0.7"></a-box>

        <!-- Chairs -->
    <!-- # Chair 1 -->
    <a-entity position="-2 0.75 0" rotation="0 -90 0"> 
      <a-box    color="#8aa28f"    width="0.5"    height="0.1"    depth="0.8"    position="0 0.5 0"></a-box>
      <a-box    color="#8aa28f"    width="0.5"    height="1"    depth="0.1"    position="0 1 0.35"></a-box>
      <a-box    color="#8aa28f"    width="0.1"    height="1"    depth="0.1"    position="-0.2 0 0.35"></a-box>
      <a-box    color="#8aa28f"    width="0.1"    height="1"    depth="0.1"    position="-0.2 0 -0.35"></a-box>
      <a-box    color="#8aa28f"    width="0.1"    height="1"    depth="0.1"    position="0.2 0 0.35"></a-box>
      <a-box    color="#8aa28f"    width="0.1"    height="1"    depth="0.1"    position="0.2 0 -0.35"></a-box>
    </a-entity>
    
    <!-- #Chair 2 -->
    <a-entity position="2 0.75 0" rotation="0 90 0"> 
      <a-box    color="#8aa28f"    width="0.5"    height="0.1"    depth="0.8"    position="0 0.5 0"></a-box>
      <a-box    color="#8aa28f"    width="0.5"    height="1"    depth="0.1"    position="0 1 0.35"></a-box>
      <a-box    color="#8aa28f"    width="0.1"    height="1"    depth="0.1"    position="-0.2 0 0.35"></a-box>
      <a-box    color="#8aa28f"    width="0.1"    height="1"    depth="0.1"    position="-0.2 0 -0.35"></a-box>
      <a-box    color="#8aa28f"    width="0.1"    height="1"    depth="0.1"    position="0.2 0 0.35"></a-box>
      <a-box    color="#8aa28f"    width="0.1"    height="1"    depth="0.1"    position="0.2 0 -0.35"></a-box>
    </a-entity>

        <!-- Sofa -->
      <a-entity id="sofa" position="3 0.5 3" rotation="0 -90 0">
        <a-box position="0 0 -0.5" width="3" height="0.8" depth="1" color="#8d6e63"></a-box> <!-- Base -->
        <a-box position="0 0.8 -1" width="3" height="1" depth="0.2" color="#8d6e63"></a-box> <!-- Back -->
        <a-box position="-1.6 0.2 -0.5" width="0.2" height="1.2" depth="1" color="#8d6e63"></a-box> <!-- Arm rest -->
        <a-box position="1.6 0.2 -0.5" width="0.2" height="1.2" depth="1" color="#8d6e63"></a-box> <!-- Arm rest -->
      </a-entity>

        <!-- Items on table -->

        <a-entity>
          <!-- Milo Tin -->
          <a-cylinder position="0 1.7 0" radius="0.1" height="0.3" material="src: milo1.jpg"></a-cylinder>
          <!-- Milk Tin -->
          <a-cylinder position="0.2 1.65 0" radius="0.08" height="0.2" material="src: milk2.jpg"></a-cylinder>
        </a-entity>

        <!-- Cup 1 -->
        <a-cylinder color="#FFFFFF" radius="0.1" height="0.3" position="-0.9 1.7 0"></a-cylinder>
        <a-cylinder color="#6F4E37" radius="0.1" height="0.15" position="-0.9 1.625 0"></a-cylinder>
        <!-- Cup 2 -->
        <a-cylinder color="#FFFFFF" radius="0.1" height="0.3" position="0.9 1.7 0"></a-cylinder>
        <a-cylinder color="#6F4E37" radius="0.1" height="0.15" position="0.9 1.625 0"></a-cylinder>
      </a-entity>

      <!-- Camera -->
      <a-entity id="rig" movement-controls position="0 1.6 -5">
        <a-camera look-controls wasd-controls="acceleration: 20"></a-camera>
      </a-entity>
      
    </a-scene>
  </body>
</html>
